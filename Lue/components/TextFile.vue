<template>
	<!-- container -->
	<div class="h-[60vh] w-full bg-slate-600 flex items-center justify-center">
		<!-- actual app -->
		<div
			class="w-[85%] h-[70%] border-[3px] border-neutral-900 bg-neutral-50 dark:bg-neutral-900 dark:border-neutral-50 shadow-[15px_19px_0px_0px_rgba(28,25,23,1)] dark:shadow-[15px_19px_0px_0px_rgba(249,250,251,1)]"
		>
			<!--top bar -->
			<div
				class="w-full h-[10%] bg-neutral-900 border-b-[3px] px-2 border-neutral-900 flex items-center justify-between dark:border-neutral-50 dark:bg-neutral-50"
			>
				<p class="text-neutral-50 dark:text-neutral-900">
					Greetings.txt - Notepad
				</p>
				<Icon
					class="text-neutral-50 dark:text-neutral-900"
					size="1.5em"
					name="material-symbols:close"
				></Icon>
			</div>
			<!-- typing contianer cringe -->
			<div class="w-fit h-fit p-3">
				<div>
					<p class="font-mono dark:text-neutral-50 text-left">{{ word }}l</p>
				</div>
				<!-- static message -->
				<div>
					<p class="font-mono dark:text-neutral-50 text-left">
						Hey there! Welcome to my small project, i hope you enjoy it as much
						as i did
					</p>
				</div>
				<!-- button -->
				<div></div>
			</div>
		</div>
	</div>
</template>
<script setup lang="ts">
	import { ref } from 'vue';
	let word = ref<string>('');
	let arrGreet = ref<string[]>([]);
	let index = ref<number>(0);
	let welcome = ref<string>('Welcome... nah to boring ');
	let Kamusta = ref<string>('Kamusta...? nah to cringe');
	let wordWelcome = ref<string[]>(welcome.value.split(''));
	let wordKamusta = ref<string[]>(Kamusta.value.split(''));

	function addMuhWords(wordArr: string[]) {
		// welcome

		if (arrGreet.value.length != wordArr.length) {
			setTimeout(() => {
				arrGreet.value.push(wordArr[index.value]);
				word.value = arrGreet.value.join('');
				index.value++;
				addMuhWords(wordArr);
			}, 100);
		} else {
			setTimeout(() => delMuhWords(wordArr), 500);
		}
	}

	function delMuhWords(wordArr: string[]) {
		// welcome
		if (arrGreet.value.length != 0) {
			setTimeout(() => {
				arrGreet.value.splice(index.value - 1, 1);
				word.value = arrGreet.value.join('');
				index.value--;
				delMuhWords(wordArr);
			}, 50);
		} else {
			if (wordArr == wordKamusta.value) {
				setTimeout(() => {
					addMuhWords(wordWelcome.value);
					return;
				}, 100);
			} else {
				setTimeout(() => {
					addMuhWords(wordKamusta.value);
					return;
				}, 100);
			}
		}
	}

	onMounted(() => {
		addMuhWords(wordKamusta.value);
	});
</script>
<style scoped>
	.TextFileShadow {
		box-shadow: 15px 19px 0px 0px;
	}
</style>
